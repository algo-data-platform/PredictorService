gen_rule(
	name = "librdkafka_config",
	srcs = [
		'./config.h'
	],
	outs = [
		'../../librdkafka/config.h'
	],
	cmd = "cp thirdparty/librdkafka/config.h  $FIRST_OUT",
	deps=[
	],
)
cc_library(
  name='rdkafka',
  srcs=[
    'src/rdkafka.c',
    'src/rdkafka_broker.c',
    'src/rdkafka_msg.c',
    'src/rdkafka_topic.c',
    'src/rdkafka_conf.c',
    'src/rdkafka_timer.c',
    'src/rdkafka_offset.c',
    'src/rdkafka_transport.c',
    'src/rdkafka_buf.c',
    'src/rdkafka_queue.c',
    'src/rdkafka_op.c',
    'src/rdkafka_request.c',
    'src/rdkafka_cgrp.c',
    'src/rdkafka_pattern.c',
    'src/rdkafka_partition.c',
    'src/rdkafka_subscription.c',
    'src/rdkafka_assignor.c',
    'src/rdkafka_range_assignor.c',
    'src/rdkafka_roundrobin_assignor.c',
    'src/rdkafka_feature.c',
    'src/rdcrc32.c',
    'src/crc32c.c',
    'src/rdmurmur2.c',
    'src/rdaddr.c',
    'src/rdrand.c',
    'src/rdlist.c',
    'src/tinycthread.c',
    'src/rdlog.c',
    'src/rdstring.c',
    'src/rdkafka_event.c',
    'src/rdkafka_metadata.c',
    'src/rdregex.c',
    'src/rdports.c',
    'src/rdkafka_metadata_cache.c',
    'src/rdavl.c',
    'src/rdkafka_sasl.c',
    'src/rdkafka_sasl_plain.c',
    'src/rdkafka_interceptor.c',
    'src/rdkafka_msgset_writer.c',
    'src/rdkafka_msgset_reader.c',
    'src/rdkafka_header.c',
    'src/rdkafka_admin.c',
    'src/rdkafka_aux.c',
    'src/rdkafka_background.c',
    'src/rdvarint.c',
    'src/rdbuf.c',
    'src/rdunittest.c',
    'src/rdkafka_sasl_scram.c',
    'src/snappy.c',
    'src/rdgz.c',
    'src/rdhdrhistogram.c',
    'src/rdkafka_lz4.c',
    'src/xxhash.c',
    'src/rddl.c',
    'src/rdkafka_plugin.c',
  ],
  warning='no',
  incs=[
  ],
  defs=[
  ],
  deps=[
    ':librdkafka_config',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)
cc_library(
  name='rdkafka++',
  srcs=[
    'src-cpp/RdKafka.cpp',
    'src-cpp/ConfImpl.cpp',
    'src-cpp/HandleImpl.cpp',
    'src-cpp/ConsumerImpl.cpp',
    'src-cpp/ProducerImpl.cpp',
    'src-cpp/KafkaConsumerImpl.cpp',
    'src-cpp/TopicImpl.cpp',
    'src-cpp/TopicPartitionImpl.cpp',
    'src-cpp/MessageImpl.cpp',
    'src-cpp/QueueImpl.cpp',
    'src-cpp/MetadataImpl.cpp',
  ],
  warning='no',
  incs=[
  ],
  defs=[
  ],
  deps=[
    ':rdkafka',
  ],
)
cc_binary(
  name='rdkafka_example',
  srcs=[
    'examples/rdkafka_example.c',
  ],
  warning='no',
  incs=[
	'src',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)
cc_binary(
  name='rdkafka_performance',
  srcs=[
    'examples/rdkafka_performance.c',
  ],
  warning='no',
  incs=[
	'src',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)
cc_binary(
  name='rdkafka_example_cpp',
  srcs=[
    'examples/rdkafka_example.cpp',
  ],
  warning='no',
  incs=[
	'src',
	'src-cpp',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka++',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)

cc_binary(
  name='rdkafka_consumer_example',
  srcs=[
    'examples/rdkafka_consumer_example.c',
  ],
  warning='no',
  incs=[
	'src',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)
cc_binary(
  name='rdkafka_consumer_example_cpp',
  srcs=[
    'examples/rdkafka_consumer_example.cpp',
  ],
  warning='no',
  incs=[
	'src',
	'src-cpp',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka++',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)

cc_binary(
  name='kafkatest_verifiable_client',
  srcs=[
    'examples/kafkatest_verifiable_client.cpp',
  ],
  warning='no',
  incs=[
	'src',
	'src-cpp',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka++',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)
cc_binary(
  name='rdkafka_simple_producer',
  srcs=[
    'examples/rdkafka_simple_producer.c',
  ],
  warning='no',
  incs=[
	'src',
  ],
  defs=[
  ],
  deps=[
    ':rdkafka',
    '//thirdparty/openssl:ssl',
    '//thirdparty/openssl:crypto',
    '//thirdparty/lz4:lz4',
    '//thirdparty/zlib:z',
    '#m',
    '#dl',
    '#pthread',
    '#rt',
  ],
)
